# 학습 내용

## 디자인 패턴 & 아키텍처 개념

[참고 블로그](https://goofcode.github.io/architecture-vs-design)

- 소프트웨어 아키텍처가 한 소프트웨어의 뼈대나 고수준의 기반을 담당하는데에 반해,

  소프트웨어 디자인은 각각의 모듈들이 어떤 것을 하는지,

  클래스의 범위, 함수의 목적 등 코드 수준의 디자인을 담당하는 것

MVC, MVVM 패턴 등 아키텍처 또는 디자인패턴이라고 불리우는데

사실 둘다 어떤 틀을 정하느냐에 따라 같은 의미를 지닌다.

예전 야곰에게 들었던 비유 중 한옥집을 통해 비유했던 것이 잘 와닿았다.

한옥집을 만들 때 한옥집에 대한 설계가 아키텍처가 되고(큰그림),

한옥집에 '화장실이 밖에있어 내부에 신식으로 바꾸고 싶다'라고 하는 **부분적인 해결방안**이 디자인 패턴이 된다.

---

## 소프트웨어 디자인 & 디자인 패턴

소프트웨어 아키텍처가 한 소프트웨어의 뼈대나 고수준의 기반을 담당하는데에 반해,

소프트웨어 디자인은 각각의 모듈들이 어떤 것을 하는지, 클래스의 범위,

함수의 목적 등 코드 수준의 디자인을 담당하는 것이다.

개발자라면 [SOLID법칙](<https://ko.wikipedia.org/wiki/SOLID_(객체_지향_설계)>)이 무엇인지, 디자인 패턴이 어떻게 일반적인 문제들을 해결하는지

이해하고 있는 것이 중요하다.

- Single Responsibility(단일 책임 원칙)
- Open Closed(개방-폐쇄 원칙)
- Liskov substitution(리스코프 치환 원칙)
- Interface Segregation(인터페이스 분리 원칙)
- Dependency Inversion(의존 역전 원칙)

[Swift로 알아보는 SOLID 영상](https://www.youtube.com/watch?v=-siNjAjYjmM&list=PLoPKxuu4_dG3jCiMcbskRuNsgZsdZ4zz6)

---

## 소프트웨어 아키텍처 정의

- 유연성, 확장성, 실행가능성, **재사용성**, 보안성과 같은 소프트웨어의 특성들을

  기술적, 사업적 기대에 부응하는 구조화된 해법으로 바꾸는 과정이다.

위 정의를 보면 아키텍처는 일반적으로 서비스의 설계를 의미하지만

개발자들 사이에서는 각 플랫폼(우리는 ios)에 맞는 설계를 말한다.

서비스에 맞는 설계 속에 ios에서는 MVC패턴을 일반적으로 따르게 설계되어 있다.

[아키텍처 영상](https://www.youtube.com/watch?v=4E1BHTvhB7Y)

---

## MVC 패턴 (Model-View-Controller)

[공식문서](https://developer.apple.com/library/archive/documentation/General/Conceptual/DevPedia-CocoaCore/MVC.html)

Apple은 ios에 맞는 아키텍처로 MVC패턴을 권장하고 있다.

<img width="527" alt="스크린샷 2021-03-10 오전 2 49 13" src="https://user-images.githubusercontent.com/70311145/110515080-572c8d80-814b-11eb-85b1-137caf771b1a.png">

### 각각의 역할

- Model

  - 응용 프로그램과 관련된 데이터를 캡슐화하고 해당 데이터를 조작하고 처리하는 논리와 계산을 정의

  모델은 앱의 비즈니스 로직과 데이터를 관리하는 영역이다.

  앱의 두뇌 역할을 담당한다고도 볼 수 있다.

  예를들어 계산기앱이라면 계산을 하는 로직과 관련된 데이터,

  채팅앱이라면 채팅기능 관련 로직과 데이터가 모델의 영역에 포함되게 된다.

  서버로부터 데이터를 불러오거나 데이터 정합성을 관리하는 것도 모델의 역할이다.

- View

  - 사용자가 볼 수있는 응용 프로그램의 개체이다. View는 자신을 그리는 방법을 알고

  있으며 사용자 작업에 응답 할 수 있다. View의 주요 목적은 응용 프로그램의 Model에서

  데이터를 표시하고 해당 데이터를 편집 할 수 있도록하는 것이다.

  뷰는 사용자에게 데이터를 보여주거나, UI를 담당하는 영역이다.

  UI와 UI로직을 담당한다고 볼 수 있다.

  중요한 것은 **뷰는 '어떻게' 보여질지에 대해서만 관리되고 어떤 것을 보여줄지에 대해서는 알지 못한다.**

  즉, 자신의 컨트롤러가 누구인지, 어떤 데이터가 보여지는지 등에 대해 알 수 없다.

- 컨트롤러

  - Controller는 하나 이상의 응용 프로그램보기 객체와 하나 이상의 해당 모델 객체 사이에서 중개자 역할을 한다.

  **컨트롤러는 뷰와 모델을 이어주는 역할을 한다.** 뷰와 모델이 서로 독립적이어야 하므로

  컨트롤러가 척추와 근육 역할을 하는 것이다.

  ios에서 컨트롤러는 주로 UIViewController의 서브클래스로 선언된다.

  컨트롤러는 뷰와 모델과 자유롭게 소통하지만 반대로 뷰나 모델은 자신을 제어하는 컨트롤러가 누구인지 모른다.

---

## 고민한점

1. MVC의 장점은 무엇인가?

   Controller가 Model과 View 사이에서 중개 역할을 해준다.

   그렇게 되면 서로간의 의존 관계가 복잡해 지지않고, 유지보수가 쉬워진다는 장점이 있다.

   어느 한 곳에 버그가 발생하면 그 부분만을 수정하여 해결할 수 있다.

   수업시간에 나온 비유

   치킨 집 사장 <-> 배달원 <-> 고객 🤣

2. MVC를 사용하게 되면 프로젝트 단위가 커질수록 Controller의 역할이 많아질텐데 단점일까??

   viewController와 같이 View와 Controller가 밀접하게 연결되어 있다.

   Controller가 View의 생명주기까지 관리하기 때문에 분리가 어렵다.

   그렇게되면 재사용성이 떨어지고, 유닛 테스트를 진행하기 힘들어진다.

   또 Controller에 코드가 밀집될 수 있다.

   생명주기, delegate, datasource, network, DB접근 등 많은 코드가 Controller에

   작성되면 그만큼 크기가 비대해지고 내부 구조는 복잡해지기 마련,,

   그렇게 되면 당연히 복잡해진 코드는 큰 규모의 프로젝트에서 치명적일 수 있어서

   유지보수 측면에서 다른 패턴들을 지향하는 것 같다.
