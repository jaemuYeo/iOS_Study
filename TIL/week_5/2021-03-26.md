# 학습활동

## 계산기에 필요한 연산자 우선순위

10진 계산기에 필요한 사칙연산은 곱셉, 나눗셈이 상위에 있고 덧셈, 뺄셈은 하위이다.

같은 우선 순위가 연산된다면 먼저 선언된 연산자가 계산된다.

2진 계산기의 경우 덧셈, 뺄셈, NOT, OR, NOR, AND, NAND, XOR, Left Shift, Right Shift가 있다.

[Apple 공식문서](https://developer.apple.com/documentation/swift/swift_standard_library/operator_declarations)에서 주어진 표를 참고하여 우선순위를 정하였다.

최상위 NOT

곱셈 우선 순위 - AND, NAND

BitwiseShift 우선순위 - Left Shift, Right Shift

덧셈 우선 순위 - Add, Subtract, OR, NOR, XOR

---

## infix notation -> postfix notation

중위 표기법은 사람이 연산하기 편한 표기법이다.

연산자가 피연산자들의 사이에 위치한다.

2. `A + B * C`

후위 표기법은 컴퓨터가 연산하기 편한 표기법이다.

사칙연산 프로그램을 만들 때 사용하는 수식의 표현법으로

연산자가 피연산자들 뒤에 위치한다.

2. `A B C * +`

후위 표기식을 만들기 위해 자료구조 스택이 사용되어 그저께 스택에 대한 지식을 먼저 배웠다.

- PUSH - 스택에 데이터를 넣는 과정
- POP - 스택에 있는 데이터를 출력하는 과정
- TOP - 스택에 데이터가 들어갈 위치를 지정하고 있는 **포인터**

### 계산기 원리 정리

컴퓨터는 중위식을 이해하지 못하므로 컴퓨터가 처리할 수 있도록 연산자 우선순위를

고려한 후위표기식으로 변경해 주어야한다.

`중위식 입력 -> 후위식 변환 -> 변환된 후위식으로 연산`

후위 표기법의 알고리즘 설계

1. 피연산자는 스택에 넣지 않고 그냥 출력

2. 연산자는 스택이 비었으면 스택에 Push

3. 연산자는 스택이 비어있지 않으면 스택에 있는 연산자와 우선순위를 비교하여

   스택에 있는 연산자의 우선순위가 같거나 크다면 스택에 있는 연산자를 Pop 한 후 출력하고,

   현재 연산자는 스택에 Push

4. 3번에서 우선순위가 현재 연산자가 더 크면 현재 연산자를 Push

5. 수식이 끝나면 스택이 빌 때까지 Pop을 한 후 출력

---

## 고민한점

오늘 팀프로젝트를 진행하면서 NAND연산자의 우선순위에 대한 고민을 하였다.

`A ~& B`와 같은 연산처리를 한다면 `~(A & B)`이 될텐데

우리가 구현할 계산기에서는 중간 계산이 있어서 `A + B ~& C`또는 더 많은 연산처리를 해야할 경우

+의 계산이 먼저인지 ~&의 계산이 먼저인지가 문제였다.

`~(A + B) & C` 이거나 `A + ~(B + C)`
