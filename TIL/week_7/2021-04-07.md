# TableView 공부

[Table View](https://developer.apple.com/documentation/uikit/uitableview)는 세로방향으로 스크롤되는 리스트를 구현할 때 사용한다.

1. Table View를 View에 배치 후 오토레이아웃 지정 (크기 설정)

2. 새로운 프로토타입 Cell을 추가하고 원하는 방식으로 구성

3. 프로토타입 Cell의 Identifier 이름을 지정

4. Table View의 DataSource를 지정 (Delegate)

5. 클래스를 익스텐션하고 UITableVIewDataSoruce 프로토콜을 선언 후 필수 메서드 구현

섹션과 셀로 구성되어있고 셀의 위치를 표현 할 때는 섹션 인덱스와 셀 인덱스를 모두 고려해야한다.

**IndexPath ( cell접근 방법 )**

- cell - Row Index ( indexPath.row )
- section - Section Index ( indexPath.section )

Table View는 [UITableViewDelegate](https://developer.apple.com/documentation/uikit/uitableviewdelegate) , [UITableViewDataSource](https://developer.apple.com/documentation/uikit/uitableviewdatasource) 를 통해 구현한다.

> 셀을 식별하기위해 문자열을 입력해야 한다. 이 식별자를 'Reuse Identifier'라고 부른다.

프로토콜을 채용하기 위해서는 클래스 밑에 **extension** 을 통해 구현하는 것이 좋다. (가독성)

```swift
extension tableViewController: UITableViewDataSource {

}

extension tableViewController: UITableViewDelegate {

}
```

---

## UITableViewDataSource 필수메서드

섹션에 표시할 셀 수를 리턴하는 메서드 (배열 또는 데이터의 인덱스 갯수)

<img width="750" alt="스크린샷 2021-01-19 오후 8 15 12" src="https://user-images.githubusercontent.com/70311145/105027484-2907c700-5a93-11eb-818e-4b0f7edfb1fa.png">

셀을 생성하고 셀에 표시할 데이터를 설정한 후 리턴하는 메서드

<img width="731" alt="스크린샷 2021-01-19 오후 8 18 45" src="https://user-images.githubusercontent.com/70311145/105027816-8f8ce500-5a93-11eb-87a9-fbef9313d049.png">

셀을 생성할 때는 테이블뷰에게 요청해야한다. 테이블뷰의 스크롤 성능을 높이기위해서

**재사용 메커니즘**을 사용한다.

테이블뷰는 재사용 큐를 관리하면서 셀 생성 요청이 있을 떄 마다 큐에 저장된 셀을 리턴한다.

요청 시점에 저장되어 있는 셀이 없으면 프로토타입 셀을 기반으로 새로운 셀을 생성한다.

> Tip. cellForRowAt 메서드는 최대한 가볍게 구현해야한다. (스크롤 성능때문에 비동기로 구현)

이 메서드는 지정된 재사용 식별자에 대해 재사용 가능한 테이블 뷰 셀 객체를 반환하고 테이블에 추가한다.

<img width="660" alt="스크린샷 2021-01-19 오후 8 23 06" src="https://user-images.githubusercontent.com/70311145/105028324-3bcecb80-5a94-11eb-8c0c-275874844f49.png">

indexPath를 통해 셀에 접근 할 수 있다. 셀에는 Label, Image 등이 있다.

---

## 셀 재사용

앱을 구동하면서 가장 많은 에너지를 소비하는 것이 뷰를 만들고 그리는 것이다.